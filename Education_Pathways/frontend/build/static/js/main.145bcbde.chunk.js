(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{120:function(e,t,s){},130:function(e,t,s){},134:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(30),r=s.n(n),o=(s(81),s(2)),i=s(10),l=s(11),u=s(15),d=s(14),h=(s(82),s(56),s.p+"static/media/logo.5aff8b5f.png"),j=s(136),b=s(137),m=s(42),p=s(13),g=s(71),O=s(31),f=(s(83),s(84),s(27)),x=s(9),v=s(17),C=s.p+"static/media/requisite-label.488f48a1.png",y=s(24),k=s.n(y),N=s(36),S=(s(65),s(72)),_=s.n(S),w=s(0),E=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).openLink=function(){var e=window.open(a.state.syllabus,"_blacnk","noopener,noreferrer");e&&(e.opener=null)},a.submitRating=function(){var e=document.getElementById("email"),t=document.getElementById("rating_courseload"),s=document.getElementById("rating_difficulty"),c=document.getElementById("rating_engagement");e.value&&t.value&&s.value&&c.value&&(console.log(t.value,s.value,c.value),console.log("sending post request for rating"),fetch("".concat("https://education-pathways-allstars.herokuapp.com/","/course/ratings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:a.props.match.params.code,rating_difficulty:t.value,rating_courseload:s.value,rating_engagement:c.value})}),N.b.success("Thank you!",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))},a.redirectCourseComments=function(){a.props.history.push("/courseComments/".concat(a.state.course_code),{course_code:a.state.course_code})},a.redirectCourseRecommendations=function(e){window.location.href="".concat(window.location.origin,"/courseDetails/").concat(e)},a.state={course_code:"",course_name:"",division:"Faculty of Applied Science and Engineering",department:"Department of Edward S. Rogers Sr. Dept. of Electrical & Computer Engineering",graph:"",course_description:"",syllabus:"",prerequisites:"",corequisites:"",exclusions:"",tags:[],recommendations:[],starred:!1,graphics:[],username:localStorage.getItem("username"),ratings_difficulty:[],ratings_courseload:[],ratings_engagement:[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("pass in course code: ",this.props.match.params.code),k.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course/ratings?course=").concat(this.props.match.params.code),{}).then((function(t){e.setState({ratings_difficulty:e.getRatingPercentage(t.data.ratings_difficulty)}),e.setState({ratings_courseload:e.getRatingPercentage(t.data.ratings_courseload)}),e.setState({ratings_engagement:e.getRatingPercentage(t.data.ratings_engagement)})})),k.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course/details?code=").concat(this.props.match.params.code),{code:this.props.course_code}).then((function(t){console.log(t.data),e.setState({course_code:t.data.course.code}),e.setState({course_name:t.data.course.name}),e.setState({course_description:t.data.course.description}),e.setState({graph:t.data.course.graph});var s=t.data.course.prereq.length;if(s>1){for(var a="",c=0;c<s;c++)a+=t.data.course.prereq[c],c!==s-1&&(a+=", ");e.setState({prerequisites:a})}else e.setState({prerequisites:t.data.course.prereq});var n=t.data.course.coreq.length;if(n>1){for(var r="",o=0;o<r;o++)r+=t.data.course.coreq[o],o!==n-1&&(r+=", ");e.setState({corequisites:r})}else e.setState({corequisites:t.data.course.coreq});var i=t.data.course.exclusion.length;if(i>1){for(var l="",u=0;u<l;u++)l+=t.data.course.exclusion[u],u!==i-1&&(l+=", ");e.setState({exclusions:l})}else e.setState({exclusions:t.data.course.exclusion});t.data.course.tags.length>1&&e.setState({tags:t.data.course.tags});var d="http://courses.skule.ca/course/"+e.props.code;e.setState({syllabus:d});e.setState({graphics:[]});for(var h=0;h<e.state.tags.length;h++)k.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course/recommendations?tag=").concat(e.state.tags[h]),{code:e.props.course_code}).then((function(t){for(var s=[],a=0;a<t.data.length;a++)t.data[a].code!==e.state.course_code&&s.push({code:t.data[a].code,name:t.data[a].name});var c=Object(O.a)(new Map(s.map((function(e){return[e.code,e]}))).values());e.setState({recommendations:c})}))}))}},{key:"getRatingPercentage",value:function(e){var t,s=0,a=Object(g.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;s+=parseInt(c)}}catch(r){a.e(r)}finally{a.f()}var n=Math.round(s/e.length/5*100);return null==n&&(n="?"),n}},{key:"getRatingOver50",value:function(e){var t=null;return e>50&&(t="over50"),t}},{key:"showForm",value:function(){document.getElementById("formElement").style.display="block"}},{key:"closeForm",value:function(){document.getElementById("formElement").style.display="none"}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"page-content",children:[Object(w.jsx)(N.a,{position:"top-center",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),Object(w.jsxs)(f.a,{className:"course-template",children:[Object(w.jsx)(v.a,{float:"center",className:"course-title",children:Object(w.jsx)(x.a,{className:"title-center",children:Object(w.jsxs)("h1",{children:[this.state.course_code," : ",this.state.course_name]})})}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Division"}),Object(w.jsx)("p",{children:this.state.division})]}),Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Department"}),Object(w.jsx)("p",{children:this.state.department})]}),Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Past Tests and Syllabi"}),Object(w.jsx)("div",{className:"submit-button-wrapper",children:Object(w.jsx)("button",{className:"submit-button",onClick:this.openLink,children:"View"})})]}),Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Past Student Comments"}),Object(w.jsx)("div",{className:"submit-button-wrapper",children:Object(w.jsx)("button",{className:"submit-button",onClick:this.redirectCourseComments,children:"View"})})]})]}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Course Description"}),Object(w.jsx)("p",{children:this.state.course_description})]}),Object(w.jsxs)(x.a,{className:"col-item",children:[Object(w.jsx)("h3",{children:"Course Ratings"}),Object(w.jsxs)("label",{class:"ratings-lbl",children:[Object(w.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_difficulty," ").concat(this.getRatingOver50(this.state.ratings_difficulty)),children:[Object(w.jsxs)("span",{children:[this.state.ratings_difficulty,"%"]}),Object(w.jsxs)("div",{className:"left-half-clipper",children:[Object(w.jsx)("div",{class:"first50-bar"}),Object(w.jsx)("div",{className:"value-bar"})]})]}),"Difficulty"]}),Object(w.jsxs)("label",{className:"ratings-lbl",children:[Object(w.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_courseload," ").concat(this.getRatingOver50(this.state.ratings_courseload)),children:[Object(w.jsxs)("span",{children:[this.state.ratings_courseload,"%"]}),Object(w.jsxs)("div",{className:"left-half-clipper",children:[Object(w.jsx)("div",{class:"first50-bar"}),Object(w.jsx)("div",{className:"value-bar"})]})]}),"Courseload"]}),Object(w.jsxs)("label",{className:"ratings-lbl",children:[Object(w.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_engagement," ").concat(this.getRatingOver50(this.state.ratings_engagement)),children:[Object(w.jsxs)("span",{children:[this.state.ratings_engagement,"%"]}),Object(w.jsxs)("div",{className:"left-half-clipper",children:[Object(w.jsx)("div",{class:"first50-bar"}),Object(w.jsx)("div",{className:"value-bar"})]})]}),"Engagement"]}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"rating-button-wrapper",children:Object(w.jsx)("button",{className:"rating-button",onClick:this.showForm,children:"Submit a Rating"})}),Object(w.jsx)("div",{className:"form-popup",id:"formElement",children:Object(w.jsxs)("form",{className:"form-container",onSubmit:function(t){t.preventDefault(),e.submitRating(),e.closeForm()},children:[Object(w.jsx)("h3",{children:"Rate Your Experience!"}),Object(w.jsxs)("div",{className:"dropdown",children:[Object(w.jsx)("label",{for:"hour",children:"Courseload:"}),Object(w.jsx)("input",{type:"number",id:"rating_courseload",min:"1",max:"5",required:!0}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{for:"hour",children:"Difficulty:"}),Object(w.jsx)("input",{type:"number",id:"rating_difficulty",min:"1",max:"5",required:!0}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{for:"hour",children:"Engagement:"}),Object(w.jsx)("input",{type:"number",id:"rating_engagement",min:"1",max:"5",required:!0})]}),Object(w.jsx)("input",{type:"email",placeholder:"Enter Email",id:"email",required:!0}),Object(w.jsx)("button",{type:"submit",class:"btn",children:"Submit"}),Object(w.jsx)("button",{type:"button",className:"btn cancel",onClick:this.closeForm,children:"Close"})]})})]})]}),Object(w.jsxs)(v.a,{className:"col-item course-requisite",children:[Object(w.jsx)(v.a,{children:Object(w.jsx)("h3",{children:"Course Requisites"})}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(x.a,{className:"requisites-display",children:[Object(w.jsx)("h4",{children:"Pre-Requisites"}),Object(w.jsx)("p",{children:this.state.prerequisites})]}),Object(w.jsxs)(x.a,{className:"requisites-display",children:[Object(w.jsx)("h4",{children:"Co-Requisites"}),Object(w.jsx)("p",{children:this.state.corequisites})]}),Object(w.jsxs)(x.a,{className:"requisites-display",children:[Object(w.jsx)("h4",{children:"Exclusion"}),Object(w.jsx)("p",{children:this.state.exclusions})]})]}),Object(w.jsx)(v.a,{children:Object(w.jsxs)("div",{className:"req-graph",children:[Object(w.jsx)("img",{style:{width:"70%",marginBottom:"3%"},alt:"",src:C}),Object(w.jsx)("img",{src:"data:image/jpeg;base64,".concat(this.state.graph),alt:""})]})})]}),Object(w.jsxs)(v.a,{className:"col-item course-recommendations",children:[Object(w.jsx)(v.a,{children:Object(w.jsx)("h3",{children:"Course Recommendations"})}),Object(w.jsx)(_.a,Object(o.a)(Object(o.a)({},{dots:!0,infinite:!0,speed:600,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:this.state.recommendations.map((function(t){return Object(w.jsxs)("div",{className:"recommendations-display",onClick:function(){return e.redirectCourseRecommendations(t.code)},children:[Object(w.jsx)("h4",{children:t.code}),Object(w.jsx)("p",{children:t.name})]})}))}))]})]})]})}}]),s}(a.Component),F=s(39),L=s.n(F),D=s(48),T=s(21),q=(s(67),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).redirectCourse=function(){a.props.history.push("/course/details/".concat(a.props.course_code),{course_code:a.props.course_code})},a.state={course_code:a.props.course_code,course_name:a.props.course_name,division:"Division of Computer Engineering",faculty:"Faculty of Applied Science and Engineering",starred:!1,username:localStorage.getItem("username")},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(w.jsx)(f.a,{children:Object(w.jsx)("a",{href:"courseDetails/".concat(this.state.course_code),onClick:this.redirectCourse,className:"search-result-item",style:{textDecoration:"none"},children:Object(w.jsxs)(v.a,{className:"result-display",children:[Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.course_code})}),Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.course_name})}),Object(w.jsx)(x.a,{children:this.state.division}),Object(w.jsx)(x.a,{children:this.state.faculty})]})})})}}]),s}(a.Component)),A=(s(120),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={course_code:"Course Code",course_name:"Course Name",division:"Division",faculty:"Faculty",starred:"Status"},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(w.jsx)(f.a,{children:Object(w.jsxs)(v.a,{className:"label",children:[Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.course_code})}),Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.course_name})}),Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.division})}),Object(w.jsx)(x.a,{children:Object(w.jsx)("h5",{children:this.state.faculty})})]})})}}]),s}(a.Component)),P=(s(68),s(5)),R=function(e){var t=Object(a.useState)(0),s=Object(P.a)(t,2),c=s[0],n=s[1],r={color:"white",overflowY:"auto"},o={position:"fixed",textAlign:"center",zindex:"2000",top:"69px",width:"99vw",justifyContent:"center",height:"auto",backgroundColor:"white"},i={visibility:"hidden",color:"white",overflowY:"auto"},l={visibility:"hidden",position:"fixed",textAlign:"center",zindex:"2000",top:"69px",width:"99vw",justifyContent:"center",height:"auto",backgroundColor:"white"},u=Object(a.useState)(0),d=Object(P.a)(u,2)[1],h=Object(a.useState)(l),j=Object(P.a)(h,2),b=j[0],m=j[1],p=Object(a.useState)(r),g=Object(P.a)(p,2),O=g[0],f=g[1],x=Object(a.useState)(0),v=Object(P.a)(x,2),C=v[0],y=v[1],k=Object(a.useRef)(),N=function(){var e=k.current.getBoundingClientRect().y;n(k.current.getBoundingClientRect().height),console.log("Bottom:"),console.log(c),console.log("TOP:"),console.log(e);var t=window.pageYOffset;console.log("Position:"),console.log(t),d(t),Math.floor(e)<=70&&t>C?(m(o),y(t),f(i)):(m(l),f(r),y(0))};return Object(a.useEffect)((function(){return window.addEventListener("scroll",N,{passive:!0}),function(){window.removeEventListener("scroll",N)}}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{style:b,children:e.children}),Object(w.jsx)("div",{style:O,ref:k,children:e.children})]})},I=!1,H=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).getData=function(){var t=Object(D.a)(L.a.mark((function t(s,a){var c,n,r,o,i,l;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.fetching&&e.state.controller.abort(),e.state.fetching){t.next=21;break}return c=new AbortController,e.setState({fetching:!0,controller:c}),t.prev=4,t.next=7,k.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/searchc?input=").concat(s),{signal:c.signal});case 7:if(n=t.sent,console.log("course data"),console.log(n.data),console.log("it is ".concat(n.status)),400!==n.status){t.next=14;break}return alert("System Error. Please refresh"),t.abrupt("return");case 14:if(200===n.status)if(n.data.length>0){for(I=!0,r=n.data.length,o=[],i=0;i<r;i++)o.push(Object(w.jsx)(q,{course_code:n.data[i].code,course_name:n.data[i].name}));e.setState({results:o,message:"".concat(n.data.length," courses found for '").concat(s,"'"),fetching:!1})}else 0===n.data.length?(I=!1,e.setState({message:"No courses found for '".concat(s,"'"),results:[],fetching:!1})):((l=[]).push(Object(w.jsx)(A,{})),l.push(Object(w.jsx)(q,{course_code:n.data.course.code,course_name:n.data.course.name})),e.setState({results:l,message:"",fetching:!1}));t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),e.setState({fetching:!1}),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e,s){return t.apply(this,arguments)}}(),e.state={input:"",results:[],message:"",fetching:!1,controller:null},e.handleChange=e.handleChange.bind(Object(T.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(T.a)(e)),e}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.state.input&&t.state.input.length>1&&(t.getData(t.state.input),t.setState({isVisible:!1}))}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.getData(this.state.input)}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"SearchQuery",children:[Object(w.jsxs)("div",{style:{marginTop:"10%",zIndex:"200",position:"relative"},children:[Object(w.jsx)("h1",{children:" Education Pathways"}),Object(w.jsxs)(R,{children:[Object(w.jsxs)("form",{onSubmit:this.handleSubmit,className:"search",children:[Object(w.jsx)("input",{placeholder:"Search for course code, course name, keyword ...",className:"text-input",type:"text",value:this.state.input,onChange:this.handleChange}),Object(w.jsx)("div",{className:"submit-button-wrapper",children:Object(w.jsx)("input",{type:"submit",value:"Search",className:"submit-button"})})]}),Object(w.jsx)("div",{className:"search-result-message",children:this.state.message}),I&&Object(w.jsx)(A,{})]})]}),this.state.fetching?Object(w.jsx)("div",{className:"search-result-message",children:"Fetching..."}):Object(w.jsx)("div",{className:"search-result-display",children:this.state.results})]})}}]),s}(a.Component),B=H;s(69);function M(e,t){return console.log("vote",e,t),k.a.put("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments?comment_id=").concat(t),{increment:e})}function U(e){var t=e.comment,s=e.update,a=new Date(t.createdAt).toLocaleDateString();return Object(w.jsxs)("div",{className:"comment",children:[Object(w.jsx)("div",{className:"comment-image-container",children:Object(w.jsx)("img",{alt:"user_pic",src:"/user-icon.png"})}),Object(w.jsxs)("div",{className:"comment-right-part",children:[Object(w.jsxs)("div",{className:"comment-content",children:[Object(w.jsx)("div",{className:"comment-author",children:t.username}),Object(w.jsx)("div",{children:a})]}),Object(w.jsx)("div",{className:"comment-text",children:t.body})]}),Object(w.jsxs)("div",{className:"comment-votes-container",children:[Object(w.jsx)("div",{className:"comment-votes-box",children:Object(w.jsxs)("button",{className:"like-btn",onClick:function(){M(1,t.id).then((function(){s(1)}))},children:[Object(w.jsx)("img",{alt:"upvote",src:"/like.png",className:"like"}),t.upvotes]})}),Object(w.jsx)("div",{className:"comment-votes-box",children:Object(w.jsxs)("button",{className:"dislike-btn",onClick:function(){M(-1,t.id).then((function(){s(-1)}))},children:[Object(w.jsx)("img",{alt:"downvote",src:"/dislike.png",className:"dislike"}),t.downvotes]})})]})]},t.id)}var V=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).fetchComments=function(){return a.state.fetching?Promise.reject():(a.setState({fetching:!0}),fetch("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments?course=")+a.props.match.params.code).then((function(e){return e.json()})).then((function(e){a.setState({comments:e.comments}),a.setState({fetching:!1})})).catch((function(e){console.log(e),a.setState({fetching:!1})})))},a.submitComment=function(e){e.preventDefault(),console.log(e);var t=new FormData(e.currentTarget),s=t.get("comment"),c=t.get("comment_author"),n=t.get("email"),r=a.props.match.params.code;k.a.post("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments"),{text:s,username:c,course:r,email:n}).then((function(e){console.log(e.data),a.fetchComments(),N.b.success("Submitted Comment!",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})).catch((function(e){N.b.error("Please use UofT Email!",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),console.log(e)}))},a.state={comments:[],fetching:!1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){console.log("pass in course code: ",this.props.match.params.code),this.fetchComments()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return Object(w.jsxs)("div",{id:"respond",className:"comment-offset",children:[Object(w.jsx)(N.a,{position:"top-center",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("h3",{className:"comments-title",children:"Comments"}),Object(w.jsx)("ul",{className:"comments-list",children:null===(e=this.state.comments)||void 0===e?void 0:e.map((function(e,s){return Object(w.jsx)(U,{comment:{id:e._id,username:e.username,body:e.text,createdAt:e.timestamp.$date,upvotes:e.upvotes,downvotes:e.downvotes},update:function(e){var a=t.state.comments;e>0?a[s].upvotes+=e:a[s].downvotes+=e,t.setState({comments:a})}})}))})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:" Leave a Comment"}),Object(w.jsxs)("form",{id:"commentform",onSubmit:this.submitComment,children:[Object(w.jsx)("label",{htmlFor:"comment_author",className:"required",children:"Your name"}),Object(w.jsx)("input",{type:"text",name:"comment_author",id:"comment_author",tabIndex:"1",required:"required",maxLength:"20"}),Object(w.jsx)("label",{htmlFor:"email",className:"required",children:"Your email"}),Object(w.jsx)("input",{type:"email",name:"email",id:"email",tabIndex:"2",required:"required",maxLength:"320"}),Object(w.jsx)("label",{htmlFor:"comment",className:"required",children:"Your message"}),Object(w.jsx)("textarea",{name:"comment",id:"comment",rows:"7",tabIndex:"4",maxLength:"500",required:"required"}),Object(w.jsx)("input",{type:"hidden",name:"comment_post_ID",value:"1",id:"comment_post_ID"}),Object(w.jsx)("button",{className:"syllabus-link",children:"Submit"})]})]})]})}}]),s}(E);function Y(){return Object(w.jsxs)("div",{className:"body_text",children:[Object(w.jsxs)("p",{children:["Welcome to CARTE's in-development tool for course selection at UofT. Education Pathways allows for more intelligent course searching, by matching not just the terms you search, but ones relevant to them. The more terms you search for, the more relevant your results will be! Even try searching across disciplines for the courses that best cover each. Whatever year you are looking for, Education Pathways will also suggest courses in earlier years that will best help you to prepare. To get the most out of this, try searching for courses in a later year and see what is suggested for your current one. We are looking for feedback to improve Education Pathways and make it more useful for students. If you have ideas or suggestions, please ",Object(w.jsx)("a",{href:"mailto:alex.olson@utoronto.ca",children:"  email us! "})," ",Object(w.jsx)("br",{})]}),Object(w.jsx)("p",{children:Object(w.jsx)("b",{children:"Development Team: "})}),Object(w.jsxs)("p",{children:["Alexander Olson ",Object(w.jsx)("a",{href:"https://carte.utoronto.ca/",children:" (CARTE)"})," "]}),Object(w.jsxs)("p",{children:["Student team from ",Object(w.jsx)("a",{href:"https://shuiblue.github.io/UofT-ECE444/",children:"ECE444-Fall2021"})," : Janelle Cuevas, Jean Lin, Terry Luan, Cansin Varol, Nick Woo"]}),Object(w.jsxs)("p",{children:["Student team from ",Object(w.jsx)("a",{href:"https://shuiblue.github.io/UofT-ECE444/",children:"ECE444-Fall2022"})," : Parth Sindhu, Sepehr Hosseini,  Alexandre Gouveiarodrigues, Nathan Jones"]})]})}s(70);function z(e){var t=e.name,s=e.description,a=e.courses;return Object(w.jsxs)("div",{className:"grid-item",children:[Object(w.jsx)("div",{className:"package-bg"}),Object(w.jsxs)("div",{className:"package-content",children:[Object(w.jsx)("h2",{children:t}),Object(w.jsx)("p",{children:s}),Object(w.jsx)("div",{className:"package-courses",children:a.map((function(e,t){return Object(w.jsxs)(b.a.Link,{chref:"/courseDetails/".concat(e.code),className:"package-course",children:[Object(w.jsx)("div",{className:"title-course-pack",children:e.code}),Object(w.jsx)("div",{className:"sub-course-pack",children:e.name})]},e.code)}))})]})]})}function J(){var e=c.a.useState([]),t=Object(P.a)(e,2),s=t[0],a=t[1],n=c.a.useState(""),r=Object(P.a)(n,2),o=r[0],i=r[1],l=c.a.useState(!1),u=Object(P.a)(l,2),d=u[0],h=u[1],j=c.a.useState(""),b=Object(P.a)(j,2),m=b[0],p=b[1];return c.a.useEffect((function(){var e=new AbortController;return h(!0),fetch("".concat("https://education-pathways-allstars.herokuapp.com/","/packages/search?input=").concat(o),{signal:e.signal}).then((function(e){return h(!1),e.json()})).then((function(e){var t=e.map((function(e){return{name:e.name,description:e.description,courses:e.courses,_id:e._id}}));p("Found ".concat(t.length," matching packages.")),a((function(e){return Object(O.a)(t)}))})).catch((function(e){h(!1),console.log(e)})),function(){h(!1),e.abort()}}),[o]),Object(w.jsxs)("div",{className:"course-packages comment-offset",children:[Object(w.jsxs)("div",{style:{marginTop:"10%",zIndex:"200",position:"relative"},children:[Object(w.jsx)("h1",{children:"Course Packages"}),Object(w.jsx)(R,{children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(e.target[0].value)},className:"search",children:[Object(w.jsx)("input",{placeholder:"Search for course packages ...",className:"text-input",type:"text"}),Object(w.jsx)("div",{className:"submit-button-wrapper",children:Object(w.jsx)("input",{type:"submit",value:"Search",className:"submit-button-pack"})})]})})]}),Object(w.jsx)("div",{className:"search-result-message",children:m}),d?Object(w.jsx)("div",{className:"search-result-message",children:"Fetching data.."}):Object(w.jsx)("div",{className:"gird",style:{display:"grid",gridTemplateColumns:"1fr 1fr",color:"red"},children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(w.jsx)(z,{name:e.name,description:e.description,courses:e.courses},e._id)}))})]})}s(53);var G=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).redirectCourse=function(){a.props.history.push("/course/details/".concat(a.props.course_code),{course_code:a.props.course_code})},a.state={course_code:a.props.course_code,course_name:a.props.course_name,division:"Division of Computer Engineering",faculty:"Faculty of Applied Science and Engineering",starred:!1,username:localStorage.getItem("username")},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(w.jsx)(f.a,{className:"container-course-filters-page",id:this.state.course_code,children:Object(w.jsx)("a",{href:"courseDetails/".concat(this.state.course_code),onClick:this.redirectCourse,className:"search-result-item",style:{textDecoration:"none"},children:Object(w.jsx)(v.a,{className:"result-display-course",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("div",{className:"res-item-coursefilters-page",children:this.state.course_code}),Object(w.jsx)("div",{className:"res-item-coursefilters-page-sub",children:this.state.course_name})]})})})})}}]),s}(a.Component),W=s(12),Q=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(T.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){console.log(this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"wrapper-course-filter",children:["Alphabetical Filter",Object(w.jsxs)(f.a,{className:"container-course-filters-filter-page",children:[Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"ALL",className:"submit-button-course",children:"ALL"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"APS",className:"submit-button-course",children:"APS"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"AER",className:"submit-button-course",children:"AER"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"BME",className:"submit-button-course",children:"BME"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"BCB",className:"submit-button-course",children:"BCB"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"CHE",className:"submit-button-course",children:"CHE"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"CIV",className:"submit-button-course",children:"CIV"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"CSC",className:"submit-button-course",children:"CSC"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"ECE",className:"submit-button-course",children:"ECE"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"ECO",className:"submit-button-course",children:"ECO"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"ENV",className:"submit-button-course",children:"ENV"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"FOR",className:"submit-button-course",children:"FOR"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"GGR",className:"submit-button-course",children:"GGR"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"HMU",className:"submit-button-course",children:"HMU"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"HPS",className:"submit-button-course",children:"HPS"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"HMB",className:"submit-button-course",children:"HMB"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"IMM",className:"submit-button-course",children:"IMM"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"ROB",className:"submit-button-course",children:"ROB"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"STA",className:"submit-button-course",children:"STA"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"TEP",className:"submit-button-course",children:"TEP"}),Object(w.jsx)(W.a,{onClick:this.props.handleClick,type:"button",value:"TMU",className:"submit-button-course",children:"TMU"})]}),Object(w.jsx)("form",{children:Object(w.jsxs)("label",{children:["Course Levels:",Object(w.jsxs)("select",{value:this.state.value,onChange:this.handleChange,onClick:this.props.handleClick,children:[Object(w.jsx)("option",{value:"ALL2",children:"Any"}),Object(w.jsx)("option",{value:"1",children:"100"}),Object(w.jsx)("option",{value:"2",children:"200"}),Object(w.jsx)("option",{value:"3",children:"300"}),Object(w.jsx)("option",{value:"4",children:"400"}),Object(w.jsx)("option",{value:"5",children:"500"})]})]})})]})}}]),s}(a.Component),$=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).getData=function(){var t=Object(D.a)(L.a.mark((function t(s,a){var c,n,r,o,i;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.fetching&&e.state.controller.abort(),e.state.fetching){t.next=22;break}return c=new AbortController,e.setState({fetching:!0,controller:c}),t.prev=4,t.next=7,k.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course_list"),{signal:c.signal});case 7:if(n=t.sent,console.log("course data"),console.log(n.data),console.log("it is ".concat(n.status)),400!==n.status){t.next=14;break}return alert("System Error. Please refresh"),t.abrupt("return");case 14:if(r=[],200===n.status){if(n.data.courses.length>0)for(o=n.data.courses.length,i=0;i<o;i++)r.push(Object(w.jsx)(G,{course_code:n.data.courses[i].code,course_name:n.data.courses[i].name}));else 0===n.data.courses.length?r=[]:r.push(Object(w.jsx)(G,{course_code:n.data.courses.code,course_name:n.data.courses.name}));e.setState({results:r},(function(){e.setState({resultsFiltered:e.state.results},(function(){e.setState({resultsFiltered2:e.state.resultsFiltered})}))}))}t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),e.setState({fetching:!1}),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(e,s){return t.apply(this,arguments)}}(),e.state={input:"",results:[],resultsFiltered:[],resultsFiltered2:[],message:"",courses:[],filter:"ALL2",controller:null},e.handleChange=e.handleChange.bind(Object(T.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(T.a)(e)),e.handleFilterClick=e.handleFilterClick.bind(Object(T.a)(e)),e.handleSecondFilter=e.handleSecondFilter.bind(Object(T.a)(e)),e}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.state.input&&t.state.input.length>1&&t.getData(t.state.input)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.getData(this.state.input)}},{key:"componentDidMount",value:function(){this.getData("ALL")}},{key:"handleFilterClick",value:function(e){var t=this,s=[];"1"!==e.target.value&&"2"!==e.target.value&&"3"!==e.target.value&&"4"!==e.target.value&&"5"!==e.target.value&&"ALL2"!==e.target.value?this.setState({resultsFiltered:[]},(function(){if("ALL"===e.target.value){console.log("Handle Click1");for(var a=t.state.results.length,c=0;c<a;c++)s.push(t.state.results[c])}else{console.log("filter");var n=t.state.results.filter((function(t){return t.props.course_code.substring(0,3).toLowerCase().includes(e.target.value.toLowerCase())}));if(console.log("Handle Click2"),console.log(t.state.results),console.log(n),console.log("Handle Click2"),n){console.log("Handle Click3");for(var r=n.length,o=0;o<r;o++)s.push(n[o]);console.log("Handle Click3")}}t.setState({resultsFiltered:s},(function(){console.log(t.state.resultsFiltered,"Filtered"),t.handleSecondFilter(e)}))})):this.handleSecondFilter(e),console.log("Handle Click"),console.log(e.target.value),e.preventDefault()}},{key:"handleSecondFilter",value:function(e){var t=this,s=[];"1"===e.target.value||"2"===e.target.value||"3"===e.target.value||"4"===e.target.value||"5"===e.target.value||"ALL2"===e.target.value?this.setState({resultsFiltered2:[]},(function(){if("ALL2"===e.target.value){console.log("Handle Click1");for(var a=t.state.resultsFiltered.length,c=0;c<a;c++)s.push(t.state.resultsFiltered[c])}else{var n=t.state.resultsFiltered.filter((function(t){return t.props.course_code.substring(0,4).toLowerCase().includes(e.target.value.toLowerCase())}));if(console.log("Handle Click2"),console.log(n),console.log("Handle Click2"),n){console.log("Handle Click3");for(var r=n.length,o=0;o<r;o++)s.push(n[o]);console.log("Handle Click3")}}t.setState({filter:e.target.value},(function(){console.log(t.state.resultsFiltered2,"Filtered")})),t.setState({resultsFiltered2:s},(function(){console.log(t.state.resultsFiltered2,"Filtered")}))})):this.setState({resultsFiltered2:[]},(function(){if("ALL2"===t.state.filter){console.log("Handle Click1 2");for(var e=t.state.resultsFiltered.length,a=0;a<e;a++)s.push(t.state.resultsFiltered[a])}else{var c=t.state.resultsFiltered.filter((function(e){return e.props.course_code.substring(0,4).toLowerCase().includes(t.state.filter.toLowerCase())}));if(console.log("Handle Click2"),console.log(c),console.log("Handle Click2"),c){console.log("Handle Click3");for(var n=c.length,r=0;r<n;r++)s.push(c[r]);console.log("Handle Click3")}}t.setState({resultsFiltered2:s},(function(){console.log(t.state.resultsFiltered2,"Filtered2")}))}))}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"filter-wrapper",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{style:{marginTop:"10%"},children:Object(w.jsx)("h1",{children:" Course List"})}),Object(w.jsx)("div",{style:{marginTop:"10%",zIndex:"200",position:"relative"},children:Object(w.jsx)(R,{children:Object(w.jsx)(Q,{handleClick:this.handleFilterClick})})}),Object(w.jsx)("div",{className:"SearchQuery-course-filters-page",children:Object(w.jsx)("div",{className:"search-result-display-course",children:this.state.resultsFiltered2.sort((function(e,t){return console.log("A"),console.log(e.props.course_code.substring(3,6)),console.log("B"),console.log(t.props.course_code.substring(3,6)),console.log("A-B"),console.log(e.props.course_code.substring(3,6)-t.props.course_code.substring(3,6)),parseInt(e.props.course_code.substring(3,6))-parseInt(t.props.course_code.substring(3,6))}))})})]})})}}]),s}(a.Component),K=$,X=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).logOut=function(){localStorage.setItem("username",""),a.setState({username:""})},a.state={username:localStorage.getItem("username"),login:!1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){""!==localStorage.getItem("username")&&this.setState({username:localStorage.getItem("username")})}},{key:"render",value:function(){return Object(w.jsxs)(m.a,{children:[Object(w.jsx)("div",{className:"navbar-wrap",children:Object(w.jsxs)(j.a,{className:"navbar",variant:"dark",sticky:"top",expand:"lg",children:[Object(w.jsxs)(j.a.Brand,{className:"nav-item header",children:[Object(w.jsx)("img",{src:h,alt:""})," ",Object(w.jsx)(b.a.Link,{href:"/",style:{color:"white",display:"inline",fontSize:"3vh"},children:"Education Pathways"})]}),Object(w.jsx)(j.a.Toggle,{}),Object(w.jsx)(j.a.Collapse,{children:Object(w.jsxs)(b.a,{className:"nav-item a",children:[Object(w.jsx)(b.a.Link,{as:m.b,to:"/coursepackages",children:"Course Packages"}),Object(w.jsx)(b.a.Link,{as:m.b,to:"/coursefilterpage",children:"Course List"}),Object(w.jsx)(b.a.Link,{as:m.b,to:"/about",children:"About Us"})]})})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(p.c,{children:[Object(w.jsx)(p.a,{path:"/coursepackages",children:Object(w.jsx)(J,{})}),Object(w.jsx)(p.a,{path:"/about",children:Object(w.jsx)(Y,{})}),Object(w.jsx)(p.a,{path:"/search",children:Object(w.jsx)(B,{})}),Object(w.jsx)(p.a,{exact:!0,path:"/courseComments/:code",render:function(e){return Object(w.jsx)(V,Object(o.a)({},e))}}),Object(w.jsx)(p.a,{exact:!0,path:"/courseDetails/:code",render:function(e){return Object(w.jsx)(E,Object(o.a)({},e))}}),Object(w.jsx)(p.a,{path:"/coursefilterpage",children:Object(w.jsx)(K,{})}),Object(w.jsx)(p.a,{path:"/",children:Object(w.jsx)(B,{})})]})})]})}}]),s}(a.Component),Z=s.p+"static/media/footer.e420ace1.png",ee=function(){return Object(w.jsxs)("footer",{className:"footer",children:[Object(w.jsx)("img",{src:Z,alt:""})," "]})};s(130),s(131),s(132);var te=function(){return Object(w.jsx)("div",{id:"MAIN",children:Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(X,{}),Object(w.jsx)(ee,{})]})})},se=(s(133),document.getElementById("root"));r.a.render(Object(w.jsx)(te,{}),se)},53:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){}},[[134,1,2]]]);
//# sourceMappingURL=main.145bcbde.chunk.js.map