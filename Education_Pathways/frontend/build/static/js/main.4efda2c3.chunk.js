(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{101:function(e,t,s){},103:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(26),n=s.n(c),r=(s(67),s(2)),i=s(11),o=s(12),l=s(15),u=s(13),d=(s(68),s(47),s.p+"static/media/logo.5aff8b5f.png"),j=s(106),h=s(107),m=s(45),b=s(8),p=s(59),g=(s(69),s(70),s(33)),O=s(9),x=s(22),f=s.p+"static/media/requisite-label.488f48a1.png",v=s(27),y=s.n(v),_=s(0),N=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).openLink=function(){var e=window.open(a.state.syllabus,"_blacnk","noopener,noreferrer");e&&(e.opener=null)},a.submitRating=function(){var e=document.getElementById("email"),t=document.getElementById("rating_courseload"),s=document.getElementById("rating_difficulty"),c=document.getElementById("rating_engagement");e.value&&t.value&&s.value&&c.value&&(console.log(t.value,s.value,c.value),console.log("sending post request for rating"),fetch("".concat("https://education-pathways-allstars.herokuapp.com/","/course/ratings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:a.props.match.params.code,rating_difficulty:t.value,rating_courseload:s.value,rating_engagement:c.value})}),console.log("Rating Submitted!"))},a.redirectCourseComments=function(){a.props.history.push("/courseComments/".concat(a.state.course_code),{course_code:a.state.course_code})},a.state={course_code:"",course_name:"",division:"Faculty of Applied Science and Engineering",department:"Department of Edward S. Rogers Sr. Dept. of Electrical & Computer Engineering",graph:"",course_description:"",syllabus:"",prerequisites:"",corequisites:"",exclusions:"",starred:!1,graphics:[],username:localStorage.getItem("username"),ratings_difficulty:[],ratings_courseload:[],ratings_engagement:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("pass in course code: ",this.props.match.params.code),y.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course/ratings?course=").concat(this.props.match.params.code),{}).then((function(t){console.log(t.data),e.setState({ratings_difficulty:e.getRatingPercentage(t.data.ratings_difficulty)}),e.setState({ratings_courseload:e.getRatingPercentage(t.data.ratings_courseload)}),e.setState({ratings_engagement:e.getRatingPercentage(t.data.ratings_engagement)})})),y.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/course/details?code=").concat(this.props.match.params.code),{code:this.props.course_code}).then((function(t){console.log(t.data),e.setState({course_code:t.data.course.code}),e.setState({course_name:t.data.course.name}),e.setState({course_description:t.data.course.description}),e.setState({graph:t.data.course.graph});var s=t.data.course.prereq.length;if(s>1){for(var a="",c=0;c<s;c++)a+=t.data.course.prereq[c],c!==s-1&&(a+=", ");e.setState({prerequisites:a})}else e.setState({prerequisites:t.data.course.prereq});var n=t.data.course.coreq.length;if(n>1){for(var r="",i=0;i<r;i++)r+=t.data.course.coreq[i],i!==n-1&&(r+=", ");e.setState({corequisites:r})}else e.setState({corequisites:t.data.course.coreq});var o=t.data.course.exclusion.length;if(o>1){for(var l="",u=0;u<l;u++)l+=t.data.course.exclusion[u],u!==o-1&&(l+=", ");e.setState({exclusions:l})}else e.setState({exclusions:t.data.course.exclusion});var d="http://courses.skule.ca/course/"+e.props.code;e.setState({syllabus:d});e.setState({graphics:[]})})),console.log("new state: ",this.state)}},{key:"getRatingPercentage",value:function(e){var t,s=0,a=Object(p.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;s+=parseInt(c)}}catch(r){a.e(r)}finally{a.f()}var n=Math.round(s/e.length/5*100);return null==n&&(n="?"),n}},{key:"getRatingOver50",value:function(e){var t=null;return e>50&&(t="over50"),t}},{key:"showForm",value:function(){document.getElementById("formElement").style.display="block"}},{key:"closeForm",value:function(){document.getElementById("formElement").style.display="none"}},{key:"render",value:function(){var e=this;return Object(_.jsx)("div",{className:"page-content",children:Object(_.jsxs)(g.a,{className:"course-template",children:[Object(_.jsx)(x.a,{float:"center",className:"course-title",children:Object(_.jsx)(O.a,{xs:8,children:Object(_.jsxs)("h1",{children:[this.state.course_code," : ",this.state.course_name]})})}),Object(_.jsxs)(x.a,{children:[Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Division"}),Object(_.jsx)("p",{children:this.state.division})]}),Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Department"}),Object(_.jsx)("p",{children:this.state.department})]}),Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Past Tests and Syllabi"}),Object(_.jsx)("button",{className:"syllabus-link",onClick:this.openLink,children:"View"})]}),Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Past Student Comments"}),Object(_.jsx)("button",{className:"syllabus-link",onClick:this.redirectCourseComments,children:"View"})]})]}),Object(_.jsxs)(x.a,{children:[Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Course Description"}),Object(_.jsx)("p",{children:this.state.course_description})]}),Object(_.jsxs)(O.a,{className:"col-item",children:[Object(_.jsx)("h3",{children:"Course Ratings"}),Object(_.jsxs)("label",{class:"ratings-lbl",children:[Object(_.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_difficulty," ").concat(this.getRatingOver50(this.state.ratings_difficulty)),children:[Object(_.jsxs)("span",{children:[this.state.ratings_difficulty,"%"]}),Object(_.jsxs)("div",{className:"left-half-clipper",children:[Object(_.jsx)("div",{class:"first50-bar"}),Object(_.jsx)("div",{className:"value-bar"})]})]}),"Difficulty"]}),Object(_.jsxs)("label",{className:"ratings-lbl",children:[Object(_.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_courseload," ").concat(this.getRatingOver50(this.state.ratings_courseload)),children:[Object(_.jsxs)("span",{children:[this.state.ratings_courseload,"%"]}),Object(_.jsxs)("div",{className:"left-half-clipper",children:[Object(_.jsx)("div",{class:"first50-bar"}),Object(_.jsx)("div",{className:"value-bar"})]})]}),"Courseload"]}),Object(_.jsxs)("label",{className:"ratings-lbl",children:[Object(_.jsxs)("div",{className:"progress-circle p".concat(this.state.ratings_engagement," ").concat(this.getRatingOver50(this.state.ratings_engagement)),children:[Object(_.jsxs)("span",{children:[this.state.ratings_engagement,"%"]}),Object(_.jsxs)("div",{className:"left-half-clipper",children:[Object(_.jsx)("div",{class:"first50-bar"}),Object(_.jsx)("div",{className:"value-bar"})]})]}),"Engagement"]}),Object(_.jsx)("button",{className:"open-button",onClick:this.showForm,children:"Submit a Rating"}),Object(_.jsx)("div",{className:"form-popup",id:"formElement",children:Object(_.jsxs)("form",{className:"form-container",onSubmit:function(t){t.preventDefault(),e.submitRating(),e.closeForm()},children:[Object(_.jsx)("h3",{children:"Rate Your Experience!"}),Object(_.jsxs)("div",{className:"dropdown",children:[Object(_.jsx)("label",{for:"hour",children:"Courseload:"}),Object(_.jsx)("input",{type:"number",id:"rating_courseload",min:"1",max:"5",required:!0}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("label",{for:"hour",children:"Difficulty:"}),Object(_.jsx)("input",{type:"number",id:"rating_difficulty",min:"1",max:"5",required:!0}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("label",{for:"hour",children:"Engagement:"}),Object(_.jsx)("input",{type:"number",id:"rating_engagement",min:"1",max:"5",required:!0})]}),Object(_.jsx)("input",{type:"email",placeholder:"Enter Email",id:"email",required:!0}),Object(_.jsx)("button",{type:"submit",class:"btn",children:"Submit"}),Object(_.jsx)("button",{type:"button",className:"btn cancel",onClick:this.closeForm,children:"Close"})]})})]})]}),Object(_.jsxs)(x.a,{className:"col-item course-requisite",children:[Object(_.jsx)(x.a,{children:Object(_.jsx)("h3",{children:"Course Requisites"})}),Object(_.jsxs)(x.a,{children:[Object(_.jsxs)(O.a,{className:"requisites-display",children:[Object(_.jsx)("h4",{children:"Pre-Requisites"}),Object(_.jsx)("p",{children:this.state.prerequisites})]}),Object(_.jsxs)(O.a,{className:"requisites-display",children:[Object(_.jsx)("h4",{children:"Co-Requisites"}),Object(_.jsx)("p",{children:this.state.corequisites})]}),Object(_.jsxs)(O.a,{className:"requisites-display",children:[Object(_.jsx)("h4",{children:"Exclusion"}),Object(_.jsx)("p",{children:this.state.exclusions})]})]}),Object(_.jsx)(x.a,{children:Object(_.jsxs)("div",{className:"req-graph",children:[Object(_.jsx)("img",{style:{width:"70%",marginBottom:"3%"},alt:"",src:f}),Object(_.jsx)("img",{src:"data:image/jpeg;base64,".concat(this.state.graph),alt:""})]})})]})]})})}}]),s}(a.Component),S=s(34),k=(s(56),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).redirectCourse=function(){a.props.history.push("/course/details/".concat(a.props.course_code),{course_code:a.props.course_code})},a.state={course_code:a.props.course_code,course_name:a.props.course_name,division:"Division of Computer Engineering",faculty:"Faculty of Applied Science and Engineering",starred:!1,username:localStorage.getItem("username")},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(_.jsx)(g.a,{children:Object(_.jsx)("a",{href:"courseDetails/".concat(this.state.course_code),onClick:this.redirectCourse,className:"search-result-item",style:{textDecoration:"none"},children:Object(_.jsxs)(x.a,{className:"result-display",children:[Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.course_code})}),Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.course_name})}),Object(_.jsx)(O.a,{children:this.state.division}),Object(_.jsx)(O.a,{children:this.state.faculty})]})})})}}]),s}(a.Component)),C=(s(90),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={course_code:"Course Code",course_name:"Course Name",division:"Division",faculty:"Faculty",starred:"Status"},a}return Object(o.a)(s,[{key:"render",value:function(){return Object(_.jsx)(g.a,{children:Object(_.jsxs)(x.a,{className:"label",children:[Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.course_code})}),Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.course_name})}),Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.division})}),Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:this.state.faculty})})]})})}}]),s}(a.Component)),w=(s(91),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).getData=function(t){y.a.get("".concat("https://education-pathways-allstars.herokuapp.com/","/searchc?input=").concat(t)).then((function(s){if(console.log("course data"),console.log(s.data),console.log("it is ".concat(s.status)),200===s.status)if(e.setState({results:[]}),s.data.length>0){var a=s.data.length,c=[];c.push(Object(_.jsx)(C,{}));for(var n=0;n<a;n++)c.push(Object(_.jsx)(k,{course_code:s.data[n].code,course_name:s.data[n].name}));e.setState({results:c}),e.setState({message:"".concat(s.data.length," courses found for '").concat(t,"'")})}else if(0===s.data.length)e.setState({message:"No courses found for '".concat(t,"'")});else{var r=[];r.push(Object(_.jsx)(C,{})),r.push(Object(_.jsx)(k,{course_code:s.data.course.code,course_name:s.data.course.name})),e.setState({results:r}),e.setState({message:""})}else 400===s.status&&alert("System Error. Please refresh")})).catch((function(e){console.log(e)}))},e.state={input:"",results:[],message:""},e.handleChange=e.handleChange.bind(Object(S.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(e)),e}return Object(o.a)(s,[{key:"handleChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){t.state.input&&t.state.input.length>1&&t.getData(t.state.input)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.getData(this.state.input)}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"SearchQuery",children:[Object(_.jsxs)("div",{style:{marginTop:"10%"},children:[Object(_.jsx)("h1",{children:" Education Pathways"}),Object(_.jsx)("br",{}),Object(_.jsxs)("form",{onSubmit:this.handleSubmit,className:"search",children:[Object(_.jsx)("input",{placeholder:"Search for course code, course name, keyword ...",className:"text-input",type:"text",value:this.state.input,onChange:this.handleChange}),Object(_.jsx)("input",{type:"submit",value:"Search",className:"submit-button"})]})]}),Object(_.jsx)("div",{className:"search-result-message",children:this.state.message}),Object(_.jsx)("div",{className:"search-result-display",children:this.state.results})]})}}]),s}(a.Component));s(57);function q(e,t){console.log("vote",e,t),y.a.put("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments?comment_id=").concat(t),{increment:e}).catch((function(e){console.log(e)}))}function E(e){var t=e.comment,s=new Date(t.createdAt).toLocaleDateString();return Object(_.jsxs)("div",{className:"comment",children:[Object(_.jsx)("div",{className:"comment-image-container",children:Object(_.jsx)("img",{alt:"user_pic",src:"/user-icon.png"})}),Object(_.jsxs)("div",{className:"comment-right-part",children:[Object(_.jsxs)("div",{className:"comment-content",children:[Object(_.jsx)("div",{className:"comment-author",children:t.username}),Object(_.jsx)("div",{children:s})]}),Object(_.jsx)("div",{className:"comment-text",children:t.body})]}),Object(_.jsxs)("div",{className:"comment-votes-container",children:[Object(_.jsxs)("div",{className:"comment-votes-box",children:[Object(_.jsx)("img",{alt:"upvote",src:"/like.png",className:"like",onClick:function(){return q(1,t.id)}}),t.upvotes]}),Object(_.jsxs)("div",{className:"comment-votes-box",children:[Object(_.jsx)("img",{alt:"downvote",src:"/dislike.png",className:"dislike",onClick:function(){return q(-1,t.id)}})," ",t.downvotes]})]})]},t.id)}var D=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).submitComment=function(e){e.preventDefault(),console.log(e);var t=new FormData(e.currentTarget),s=t.get("comment"),c=t.get("comment_author"),n=t.get("email"),r=a.props.match.params.code;y.a.post("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments"),{text:s,username:c,course:r,email:n}).then((function(e){console.log(e.data),a.setState({comments:e.data.comments})})).catch((function(e){console.log(e)}))},a.state={comments:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("pass in course code: ",this.props.match.params.code),fetch("".concat("https://education-pathways-allstars.herokuapp.com/","/course/comments?course=")+this.props.match.params.code).then((function(e){return e.json()})).then((function(t){e.setState({comments:t.comments})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e;return Object(_.jsxs)("div",{id:"respond",children:[Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("h3",{className:"comments-title",children:"Comments"}),Object(_.jsx)("ul",{className:"comments-list",children:null===(e=this.state.comments)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)(E,{comment:{id:e._id,username:e.username,body:e.text,createdAt:e.timestamp.$date,upvotes:e.upvotes,downvotes:e.downvotes}})}))})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:" Leave a Comment"}),Object(_.jsxs)("form",{id:"commentform",onSubmit:this.submitComment,children:[Object(_.jsx)("label",{htmlFor:"comment_author",className:"required",children:"Your name"}),Object(_.jsx)("input",{type:"text",name:"comment_author",id:"comment_author",tabIndex:"1",required:"required",maxLength:"20"}),Object(_.jsx)("label",{htmlFor:"email",className:"required",children:"Your email"}),Object(_.jsx)("input",{type:"email",name:"email",id:"email",tabIndex:"2",required:"required",maxLength:"320"}),Object(_.jsx)("label",{htmlFor:"comment",className:"required",children:"Your message"}),Object(_.jsx)("textarea",{name:"comment",id:"comment",rows:"7",tabIndex:"4",maxLength:"500",required:"required"}),Object(_.jsx)("input",{type:"hidden",name:"comment_post_ID",value:"1",id:"comment_post_ID"}),Object(_.jsx)("button",{className:"syllabus-link",children:"Submit"})]})]})]})}}]),s}(N),I=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).logOut=function(){localStorage.setItem("username",""),a.setState({username:""})},a.state={username:localStorage.getItem("username"),login:!1},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){""!==localStorage.getItem("username")&&this.setState({username:localStorage.getItem("username")})}},{key:"render",value:function(){return Object(_.jsxs)(m.a,{children:[Object(_.jsx)("div",{children:Object(_.jsxs)(j.a,{bg:"myBlue",variant:"dark",sticky:"top",expand:"lg",children:[Object(_.jsxs)(j.a.Brand,{children:[Object(_.jsx)("img",{src:d,alt:""})," ",Object(_.jsx)(h.a.Link,{href:"/",style:{color:"white",display:"inline"},children:"Education Pathways"})]}),Object(_.jsx)(j.a.Toggle,{}),Object(_.jsx)(j.a.Collapse,{children:Object(_.jsx)(h.a,{children:Object(_.jsx)(h.a.Link,{as:m.b,to:"/about",children:"About Us"})})})]})}),Object(_.jsx)("div",{children:Object(_.jsxs)(b.c,{children:[Object(_.jsx)(b.a,{path:"/about",children:Object(_.jsxs)("div",{className:"body_text",children:[Object(_.jsxs)("p",{children:["Welcome to CARTE's in-development tool for course selection at UofT. Education Pathways allows for more intelligent course searching, by matching not just the terms you search, but ones relevant to them. The more terms you search for, the more relevant your results will be! Even try searching across disciplines for the courses that best cover each. Whatever year you are looking for, Education Pathways will also suggest courses in earlier years that will best help you to prepare. To get the most out of this, try searching for courses in a later year and see what is suggested for your current one. We are looking for feedback to improve Education Pathways and make it more useful for students. If you have ideas or suggestions, please ",Object(_.jsx)("a",{href:"mailto:alex.olson@utoronto.ca",children:"  email us! "})," ",Object(_.jsx)("br",{})]}),Object(_.jsx)("p",{children:Object(_.jsx)("b",{children:"Development Team: "})}),Object(_.jsxs)("p",{children:["Alexander Olson ",Object(_.jsx)("a",{href:"https://carte.utoronto.ca/",children:" (CARTE)"})," "]}),Object(_.jsxs)("p",{children:["Student team from ",Object(_.jsx)("a",{href:"https://shuiblue.github.io/UofT-ECE444/",children:"ECE444-Fall2021"})," : Janelle Cuevas, Jean Lin, Terry Luan, Cansin Varol, Nick Woo"]})]})}),Object(_.jsx)(b.a,{path:"/search",children:Object(_.jsx)(w,{})}),Object(_.jsx)(b.a,{exact:!0,path:"/courseComments/:code",render:function(e){return Object(_.jsx)(D,Object(r.a)({},e))}}),Object(_.jsx)(b.a,{exact:!0,path:"/courseDetails/:code",render:function(e){return Object(_.jsx)(N,Object(r.a)({},e))}}),Object(_.jsx)(b.a,{path:"/",children:Object(_.jsx)(w,{})})]})})]})}}]),s}(a.Component),R=s.p+"static/media/footer.e420ace1.png",P=function(){return Object(_.jsxs)("footer",{className:"footer",children:[Object(_.jsx)("img",{src:R,alt:""})," "]})};s(101);var T=function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(I,{})}),Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(P,{})})]})},F=(s(102),document.getElementById("root"));n.a.render(Object(_.jsx)(T,{}),F)},56:function(e,t,s){},57:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},90:function(e,t,s){},91:function(e,t,s){}},[[103,1,2]]]);
//# sourceMappingURL=main.4efda2c3.chunk.js.map